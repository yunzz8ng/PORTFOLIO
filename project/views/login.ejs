<!-- script -->
<script>
    function loginUser() {
        var form = document.getElementById("login");
        axios({
            method: 'post',
            url: 'http://localhost:3000/login',
            data: {
                id: form.id.value,
                password: form.password.value
            }
        }).then((response) => {
            console.log("response.data:" , response.data);
            return response.data;
        }).then((data) => {
            if ( data.flag == false) {
                //메세지 띄우기
                let alert_html = "<h6 class='fw-bold text-center mt-5'>다시 로그인해주세요.</h6>";
                document.getElementById("alert").innerHTML = alert_html;
            } else {
                alert("로그인 성공");

                var form_info = document.getElementById("form_info");
                form_info.id.value = form.id.value;
                form_info.submit();
                
            }     
        })
    }
</script>
<head>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/98.css">

</head>
<style>
    .window{
        position: fixed;
        position: relative;
        width: 250px;
        height: 20%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    .window-body{
        margin-top: 1px;
        display: flex;
         justify-content: center;
       align-items: center; 
       position: relative;
    }
    .input-box {
        width: 100%;
    }
    form {
        width: 100%;
        height: 100%;
        position: absolute;
    }
    #button-group{
        justify-content: center;
        align-items: center;
        display: flex;
    }
</style>
<!-- body -->
<body>
    <div class="window">
        <div class="title-bar">
          <div class="title-bar-text">login</div>
          <div class="title-bar-controls">
            <button aria-label="Minimize"></button>
            <button aria-label="Maximize"></button>
            <button aria-label="Close"></button>
          </div>
        </div>
        <div class="window-body">
<form id="login">
    <div class="row justify-content-center mt-5">
        <div class="col-4"></div>
        <div class="col-4 justify-content-center" id="title">
            <h6 class="fw-bold fs-2 mb-5 text-center"></h6> 
        </div>
        <div class="col-4"></div>
    <div class="row justify-content-center">
        <div class="col-4"></div>
        <div class="col-4 justify-content-center" id="contents">
            <h5 class="fw-bold">ID</h5>
            <input class="input-box mb-2" type="text" name="id" placeholder="아이디를 입력하세요" required>
            <h5 class="fw-bold">Password</h5>
            <input class="input-box mb-2" type="password" name="password" placeholder="비밀번호를 입력하세요" required>
        </div>
    <br>
        <div class="col-4"></div>
    </div>
    <div class="row justify-content-center mt-3">
        <div class="col-4"></div>
        <div class="col-4" id="button-group">
            <button class="join-button" type="button" onclick="loginUser();">로그인</button>
        </div>
        <div class="col-4"></div>
    </div>
    <div class="row justify-content-center">
        <div class="col-4"></div>
        <div class="col-4" id="alert">
        </div>
        <div class="col-4"></div>
    </div>
</form>

<form id="form_info" action="/edit" method="POST">
    <input type="hidden" name="id">
</div>
</div>
</form>
</body>
